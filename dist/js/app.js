// Avoid `console` errors in browsers that lack a console
(function() {
    var method;
    var noop = function () {};
    var methods = [
        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
        'timeStamp', 'trace', 'warn'
    ];
    var length = methods.length;
    var console = (window.console = window.console || {});

    while (length--) {
        method = methods[length];

        // Only stub undefined methods.
        if (!console[method]) {
            console[method] = noop;
        }
    }
}());

// Place any jQuery/helper plugins in here.

/**
 * bxSlider v4.2.4
 * Copyright 2013-2015 Steven Wanderski
 * Written while drinking Belgian ales and listening to jazz

 * Licensed under MIT (http://opensource.org/licenses/MIT)
 */

!function(a){var b={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};a.fn.bxSlider=function(c){if(0===this.length)return this;if(this.length>1)return this.each(function(){a(this).bxSlider(c)}),this;var d={},e=this,f=a(window).width(),g=a(window).height();if(!a(e).data("bxSlider")){var h=function(){a(e).data("bxSlider")||(d.settings=a.extend({},b,c),d.settings.slideWidth=parseInt(d.settings.slideWidth),d.children=e.children(d.settings.slideSelector),d.children.length<d.settings.minSlides&&(d.settings.minSlides=d.children.length),d.children.length<d.settings.maxSlides&&(d.settings.maxSlides=d.children.length),d.settings.randomStart&&(d.settings.startSlide=Math.floor(Math.random()*d.children.length)),d.active={index:d.settings.startSlide},d.carousel=d.settings.minSlides>1||d.settings.maxSlides>1?!0:!1,d.carousel&&(d.settings.preloadImages="all"),d.minThreshold=d.settings.minSlides*d.settings.slideWidth+(d.settings.minSlides-1)*d.settings.slideMargin,d.maxThreshold=d.settings.maxSlides*d.settings.slideWidth+(d.settings.maxSlides-1)*d.settings.slideMargin,d.working=!1,d.controls={},d.interval=null,d.animProp="vertical"===d.settings.mode?"top":"left",d.usingCSS=d.settings.useCSS&&"fade"!==d.settings.mode&&function(){for(var a=document.createElement("div"),b=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],c=0;c<b.length;c++)if(void 0!==a.style[b[c]])return d.cssPrefix=b[c].replace("Perspective","").toLowerCase(),d.animProp="-"+d.cssPrefix+"-transform",!0;return!1}(),"vertical"===d.settings.mode&&(d.settings.maxSlides=d.settings.minSlides),e.data("origStyle",e.attr("style")),e.children(d.settings.slideSelector).each(function(){a(this).data("origStyle",a(this).attr("style"))}),i())},i=function(){var b=d.children.eq(d.settings.startSlide);e.wrap('<div class="'+d.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),d.viewport=e.parent(),d.settings.ariaLive&&!d.settings.ticker&&d.viewport.attr("aria-live","polite"),d.loader=a('<div class="bx-loading" />'),d.viewport.prepend(d.loader),e.css({width:"horizontal"===d.settings.mode?1e3*d.children.length+215+"%":"auto",position:"relative"}),d.usingCSS&&d.settings.easing?e.css("-"+d.cssPrefix+"-transition-timing-function",d.settings.easing):d.settings.easing||(d.settings.easing="swing"),d.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),d.viewport.parent().css({maxWidth:m()}),d.settings.pager||d.settings.controls||d.viewport.parent().css({margin:"0 auto 0px"}),d.children.css({"float":"horizontal"===d.settings.mode?"left":"none",listStyle:"none",position:"relative"}),d.children.css("width",n()),"horizontal"===d.settings.mode&&d.settings.slideMargin>0&&d.children.css("marginRight",d.settings.slideMargin),"vertical"===d.settings.mode&&d.settings.slideMargin>0&&d.children.css("marginBottom",d.settings.slideMargin),"fade"===d.settings.mode&&(d.children.css({position:"absolute",zIndex:0,display:"none"}),d.children.eq(d.settings.startSlide).css({zIndex:d.settings.slideZIndex,display:"block"})),d.controls.el=a('<div class="bx-controls" />'),d.settings.captions&&x(),d.active.last=d.settings.startSlide===p()-1,d.settings.video&&e.fitVids(),("all"===d.settings.preloadImages||d.settings.ticker)&&(b=d.children),d.settings.ticker?d.settings.pager=!1:(d.settings.controls&&v(),d.settings.auto&&d.settings.autoControls&&w(),d.settings.pager&&u(),(d.settings.controls||d.settings.autoControls||d.settings.pager)&&d.viewport.after(d.controls.el)),j(b,k)},j=function(b,c){var d=b.find('img:not([src=""]), iframe').length,e=0;return 0===d?void c():void b.find('img:not([src=""]), iframe').each(function(){a(this).one("load error",function(){++e===d&&c()}).each(function(){this.complete&&a(this).load()})})},k=function(){if(d.settings.infiniteLoop&&"fade"!==d.settings.mode&&!d.settings.ticker){var b="vertical"===d.settings.mode?d.settings.minSlides:d.settings.maxSlides,c=d.children.slice(0,b).clone(!0).addClass("bx-clone"),f=d.children.slice(-b).clone(!0).addClass("bx-clone");d.settings.ariaHidden&&(c.attr("aria-hidden",!0),f.attr("aria-hidden",!0)),e.append(c).prepend(f)}d.loader.remove(),r(),"vertical"===d.settings.mode&&(d.settings.adaptiveHeight=!0),d.viewport.height(l()),e.redrawSlider(),d.settings.onSliderLoad.call(e,d.active.index),d.initialized=!0,d.settings.responsive&&a(window).bind("resize",R),d.settings.auto&&d.settings.autoStart&&(p()>1||d.settings.autoSlideForOnePage)&&H(),d.settings.ticker&&I(),d.settings.pager&&D(d.settings.startSlide),d.settings.controls&&G(),d.settings.touchEnabled&&!d.settings.ticker&&M(),d.settings.keyboardEnabled&&!d.settings.ticker&&a(document).keydown(L)},l=function(){var b=e.outerHeight(),c=null,f=a();if("vertical"===d.settings.mode||d.settings.adaptiveHeight)if(d.carousel){c=1===d.settings.moveSlides?d.active.index:d.active.index*q(),f=d.children.eq(c);for(var g=1;g<=d.settings.maxSlides-1;g++)f=c+g>=d.children.length?f.add(d.children.eq(c+g-d.children.length)):f.add(d.children.eq(c+g))}else f=d.children.eq(d.active.index);else f=d.children;return"vertical"===d.settings.mode?(f.each(function(c){b+=a(this).outerHeight()}),d.settings.slideMargin>0&&(b+=d.settings.slideMargin*(d.settings.minSlides-1))):b=Math.max.apply(Math,f.map(function(){return a(this).outerHeight(!1)}).get()),"border-box"===d.viewport.css("box-sizing")?b+=parseFloat(d.viewport.css("padding-top"))+parseFloat(d.viewport.css("padding-bottom"))+parseFloat(d.viewport.css("border-top-width"))+parseFloat(d.viewport.css("border-bottom-width")):"padding-box"===d.viewport.css("box-sizing")&&(b+=parseFloat(d.viewport.css("padding-top"))+parseFloat(d.viewport.css("padding-bottom"))),b},m=function(){var a="100%";return d.settings.slideWidth>0&&(a="horizontal"===d.settings.mode?d.settings.maxSlides*d.settings.slideWidth+(d.settings.maxSlides-1)*d.settings.slideMargin:d.settings.slideWidth),a},n=function(){var a=d.settings.slideWidth,b=d.viewport.width();if(0===d.settings.slideWidth||d.settings.slideWidth>b&&!d.carousel||"vertical"===d.settings.mode)a=b;else if(d.settings.maxSlides>1&&"horizontal"===d.settings.mode){if(b>d.maxThreshold)return a;b<d.minThreshold?a=(b-d.settings.slideMargin*(d.settings.minSlides-1))/d.settings.minSlides:d.settings.shrinkItems&&(a=Math.floor((b+d.settings.slideMargin)/Math.ceil((b+d.settings.slideMargin)/(a+d.settings.slideMargin))-d.settings.slideMargin))}return a},o=function(){var a=1,b=null;return"horizontal"===d.settings.mode&&d.settings.slideWidth>0?d.viewport.width()<d.minThreshold?a=d.settings.minSlides:d.viewport.width()>d.maxThreshold?a=d.settings.maxSlides:(b=d.children.first().width()+d.settings.slideMargin,a=Math.floor((d.viewport.width()+d.settings.slideMargin)/b)):"vertical"===d.settings.mode&&(a=d.settings.minSlides),a},p=function(){var a=0,b=0,c=0;if(d.settings.moveSlides>0)if(d.settings.infiniteLoop)a=Math.ceil(d.children.length/q());else for(;b<d.children.length;)++a,b=c+o(),c+=d.settings.moveSlides<=o()?d.settings.moveSlides:o();else a=Math.ceil(d.children.length/o());return a},q=function(){return d.settings.moveSlides>0&&d.settings.moveSlides<=o()?d.settings.moveSlides:o()},r=function(){var a,b,c;d.children.length>d.settings.maxSlides&&d.active.last&&!d.settings.infiniteLoop?"horizontal"===d.settings.mode?(b=d.children.last(),a=b.position(),s(-(a.left-(d.viewport.width()-b.outerWidth())),"reset",0)):"vertical"===d.settings.mode&&(c=d.children.length-d.settings.minSlides,a=d.children.eq(c).position(),s(-a.top,"reset",0)):(a=d.children.eq(d.active.index*q()).position(),d.active.index===p()-1&&(d.active.last=!0),void 0!==a&&("horizontal"===d.settings.mode?s(-a.left,"reset",0):"vertical"===d.settings.mode&&s(-a.top,"reset",0)))},s=function(b,c,f,g){var h,i;d.usingCSS?(i="vertical"===d.settings.mode?"translate3d(0, "+b+"px, 0)":"translate3d("+b+"px, 0, 0)",e.css("-"+d.cssPrefix+"-transition-duration",f/1e3+"s"),"slide"===c?(e.css(d.animProp,i),e.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a(b.target).is(e)&&(e.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),E())})):"reset"===c?e.css(d.animProp,i):"ticker"===c&&(e.css("-"+d.cssPrefix+"-transition-timing-function","linear"),e.css(d.animProp,i),e.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(b){a(b.target).is(e)&&(e.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),s(g.resetValue,"reset",0),J())}))):(h={},h[d.animProp]=b,"slide"===c?e.animate(h,f,d.settings.easing,function(){E()}):"reset"===c?e.css(d.animProp,b):"ticker"===c&&e.animate(h,f,"linear",function(){s(g.resetValue,"reset",0),J()}))},t=function(){for(var b="",c="",e=p(),f=0;e>f;f++)c="",d.settings.buildPager&&a.isFunction(d.settings.buildPager)||d.settings.pagerCustom?(c=d.settings.buildPager(f),d.pagerEl.addClass("bx-custom-pager")):(c=f+1,d.pagerEl.addClass("bx-default-pager")),b+='<div class="bx-pager-item"><a href="" data-slide-index="'+f+'" class="bx-pager-link">'+c+"</a></div>";d.pagerEl.html(b)},u=function(){d.settings.pagerCustom?d.pagerEl=a(d.settings.pagerCustom):(d.pagerEl=a('<div class="bx-pager" />'),d.settings.pagerSelector?a(d.settings.pagerSelector).html(d.pagerEl):d.controls.el.addClass("bx-has-pager").append(d.pagerEl),t()),d.pagerEl.on("click touchend","a",C)},v=function(){d.controls.next=a('<a class="bx-next" href="">'+d.settings.nextText+"</a>"),d.controls.prev=a('<a class="bx-prev" href="">'+d.settings.prevText+"</a>"),d.controls.next.bind("click touchend",y),d.controls.prev.bind("click touchend",z),d.settings.nextSelector&&a(d.settings.nextSelector).append(d.controls.next),d.settings.prevSelector&&a(d.settings.prevSelector).append(d.controls.prev),d.settings.nextSelector||d.settings.prevSelector||(d.controls.directionEl=a('<div class="bx-controls-direction" />'),d.controls.directionEl.append(d.controls.prev).append(d.controls.next),d.controls.el.addClass("bx-has-controls-direction").append(d.controls.directionEl))},w=function(){d.controls.start=a('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+d.settings.startText+"</a></div>"),d.controls.stop=a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+d.settings.stopText+"</a></div>"),d.controls.autoEl=a('<div class="bx-controls-auto" />'),d.controls.autoEl.on("click",".bx-start",A),d.controls.autoEl.on("click",".bx-stop",B),d.settings.autoControlsCombine?d.controls.autoEl.append(d.controls.start):d.controls.autoEl.append(d.controls.start).append(d.controls.stop),d.settings.autoControlsSelector?a(d.settings.autoControlsSelector).html(d.controls.autoEl):d.controls.el.addClass("bx-has-controls-auto").append(d.controls.autoEl),F(d.settings.autoStart?"stop":"start")},x=function(){d.children.each(function(b){var c=a(this).find("img:first").attr("title");void 0!==c&&(""+c).length&&a(this).append('<div class="bx-caption"><span>'+c+"</span></div>")})},y=function(a){a.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&e.stopAuto(),e.goToNextSlide())},z=function(a){a.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&e.stopAuto(),e.goToPrevSlide())},A=function(a){e.startAuto(),a.preventDefault()},B=function(a){e.stopAuto(),a.preventDefault()},C=function(b){var c,f;b.preventDefault(),d.controls.el.hasClass("disabled")||(d.settings.auto&&d.settings.stopAutoOnClick&&e.stopAuto(),c=a(b.currentTarget),void 0!==c.attr("data-slide-index")&&(f=parseInt(c.attr("data-slide-index")),f!==d.active.index&&e.goToSlide(f)))},D=function(b){var c=d.children.length;return"short"===d.settings.pagerType?(d.settings.maxSlides>1&&(c=Math.ceil(d.children.length/d.settings.maxSlides)),void d.pagerEl.html(b+1+d.settings.pagerShortSeparator+c)):(d.pagerEl.find("a").removeClass("active"),void d.pagerEl.each(function(c,d){a(d).find("a").eq(b).addClass("active")}))},E=function(){if(d.settings.infiniteLoop){var a="";0===d.active.index?a=d.children.eq(0).position():d.active.index===p()-1&&d.carousel?a=d.children.eq((p()-1)*q()).position():d.active.index===d.children.length-1&&(a=d.children.eq(d.children.length-1).position()),a&&("horizontal"===d.settings.mode?s(-a.left,"reset",0):"vertical"===d.settings.mode&&s(-a.top,"reset",0))}d.working=!1,d.settings.onSlideAfter.call(e,d.children.eq(d.active.index),d.oldIndex,d.active.index)},F=function(a){d.settings.autoControlsCombine?d.controls.autoEl.html(d.controls[a]):(d.controls.autoEl.find("a").removeClass("active"),d.controls.autoEl.find("a:not(.bx-"+a+")").addClass("active"))},G=function(){1===p()?(d.controls.prev.addClass("disabled"),d.controls.next.addClass("disabled")):!d.settings.infiniteLoop&&d.settings.hideControlOnEnd&&(0===d.active.index?(d.controls.prev.addClass("disabled"),d.controls.next.removeClass("disabled")):d.active.index===p()-1?(d.controls.next.addClass("disabled"),d.controls.prev.removeClass("disabled")):(d.controls.prev.removeClass("disabled"),d.controls.next.removeClass("disabled")))},H=function(){if(d.settings.autoDelay>0){setTimeout(e.startAuto,d.settings.autoDelay)}else e.startAuto(),a(window).focus(function(){e.startAuto()}).blur(function(){e.stopAuto()});d.settings.autoHover&&e.hover(function(){d.interval&&(e.stopAuto(!0),d.autoPaused=!0)},function(){d.autoPaused&&(e.startAuto(!0),d.autoPaused=null)})},I=function(){var b,c,f,g,h,i,j,k,l=0;"next"===d.settings.autoDirection?e.append(d.children.clone().addClass("bx-clone")):(e.prepend(d.children.clone().addClass("bx-clone")),b=d.children.first().position(),l="horizontal"===d.settings.mode?-b.left:-b.top),s(l,"reset",0),d.settings.pager=!1,d.settings.controls=!1,d.settings.autoControls=!1,d.settings.tickerHover&&(d.usingCSS?(g="horizontal"===d.settings.mode?4:5,d.viewport.hover(function(){c=e.css("-"+d.cssPrefix+"-transform"),f=parseFloat(c.split(",")[g]),s(f,"reset",0)},function(){k=0,d.children.each(function(b){k+="horizontal"===d.settings.mode?a(this).outerWidth(!0):a(this).outerHeight(!0)}),h=d.settings.speed/k,i="horizontal"===d.settings.mode?"left":"top",j=h*(k-Math.abs(parseInt(f))),J(j)})):d.viewport.hover(function(){e.stop()},function(){k=0,d.children.each(function(b){k+="horizontal"===d.settings.mode?a(this).outerWidth(!0):a(this).outerHeight(!0)}),h=d.settings.speed/k,i="horizontal"===d.settings.mode?"left":"top",j=h*(k-Math.abs(parseInt(e.css(i)))),J(j)})),J()},J=function(a){var b,c,f,g=a?a:d.settings.speed,h={left:0,top:0},i={left:0,top:0};"next"===d.settings.autoDirection?h=e.find(".bx-clone").first().position():i=d.children.first().position(),b="horizontal"===d.settings.mode?-h.left:-h.top,c="horizontal"===d.settings.mode?-i.left:-i.top,f={resetValue:c},s(b,"ticker",g,f)},K=function(b){var c=a(window),d={top:c.scrollTop(),left:c.scrollLeft()},e=b.offset();return d.right=d.left+c.width(),d.bottom=d.top+c.height(),e.right=e.left+b.outerWidth(),e.bottom=e.top+b.outerHeight(),!(d.right<e.left||d.left>e.right||d.bottom<e.top||d.top>e.bottom)},L=function(a){var b=document.activeElement.tagName.toLowerCase(),c="input|textarea",d=new RegExp(b,["i"]),f=d.exec(c);if(null==f&&K(e)){if(39===a.keyCode)return y(a),!1;if(37===a.keyCode)return z(a),!1}},M=function(){d.touch={start:{x:0,y:0},end:{x:0,y:0}},d.viewport.bind("touchstart MSPointerDown pointerdown",N),d.viewport.on("click",".bxslider a",function(a){d.viewport.hasClass("click-disabled")&&(a.preventDefault(),d.viewport.removeClass("click-disabled"))})},N=function(a){if(d.controls.el.addClass("disabled"),d.working)a.preventDefault(),d.controls.el.removeClass("disabled");else{d.touch.originalPos=e.position();var b=a.originalEvent,c="undefined"!=typeof b.changedTouches?b.changedTouches:[b];d.touch.start.x=c[0].pageX,d.touch.start.y=c[0].pageY,d.viewport.get(0).setPointerCapture&&(d.pointerId=b.pointerId,d.viewport.get(0).setPointerCapture(d.pointerId)),d.viewport.bind("touchmove MSPointerMove pointermove",P),d.viewport.bind("touchend MSPointerUp pointerup",Q),d.viewport.bind("MSPointerCancel pointercancel",O)}},O=function(a){s(d.touch.originalPos.left,"reset",0),d.controls.el.removeClass("disabled"),d.viewport.unbind("MSPointerCancel pointercancel",O),d.viewport.unbind("touchmove MSPointerMove pointermove",P),d.viewport.unbind("touchend MSPointerUp pointerup",Q),d.viewport.get(0).releasePointerCapture&&d.viewport.get(0).releasePointerCapture(d.pointerId)},P=function(a){var b=a.originalEvent,c="undefined"!=typeof b.changedTouches?b.changedTouches:[b],e=Math.abs(c[0].pageX-d.touch.start.x),f=Math.abs(c[0].pageY-d.touch.start.y),g=0,h=0;3*e>f&&d.settings.preventDefaultSwipeX?a.preventDefault():3*f>e&&d.settings.preventDefaultSwipeY&&a.preventDefault(),"fade"!==d.settings.mode&&d.settings.oneToOneTouch&&("horizontal"===d.settings.mode?(h=c[0].pageX-d.touch.start.x,g=d.touch.originalPos.left+h):(h=c[0].pageY-d.touch.start.y,g=d.touch.originalPos.top+h),s(g,"reset",0))},Q=function(a){d.viewport.unbind("touchmove MSPointerMove pointermove",P),d.controls.el.removeClass("disabled");var b=a.originalEvent,c="undefined"!=typeof b.changedTouches?b.changedTouches:[b],f=0,g=0;d.touch.end.x=c[0].pageX,d.touch.end.y=c[0].pageY,"fade"===d.settings.mode?(g=Math.abs(d.touch.start.x-d.touch.end.x),g>=d.settings.swipeThreshold&&(d.touch.start.x>d.touch.end.x?e.goToNextSlide():e.goToPrevSlide(),e.stopAuto())):("horizontal"===d.settings.mode?(g=d.touch.end.x-d.touch.start.x,f=d.touch.originalPos.left):(g=d.touch.end.y-d.touch.start.y,f=d.touch.originalPos.top),!d.settings.infiniteLoop&&(0===d.active.index&&g>0||d.active.last&&0>g)?s(f,"reset",200):Math.abs(g)>=d.settings.swipeThreshold?(0>g?e.goToNextSlide():e.goToPrevSlide(),e.stopAuto()):s(f,"reset",200)),d.viewport.unbind("touchend MSPointerUp pointerup",Q),d.viewport.get(0).releasePointerCapture&&d.viewport.get(0).releasePointerCapture(d.pointerId)},R=function(b){if(d.initialized)if(d.working)window.setTimeout(R,10);else{var c=a(window).width(),h=a(window).height();(f!==c||g!==h)&&(f=c,g=h,e.redrawSlider(),d.settings.onSliderResize.call(e,d.active.index))}},S=function(a){var b=o();d.settings.ariaHidden&&!d.settings.ticker&&(d.children.attr("aria-hidden","true"),d.children.slice(a,a+b).attr("aria-hidden","false"))};return e.goToSlide=function(b,c){var f,g,h,i,j=!0,k=0,m={left:0,top:0},n=null;if(!d.working&&d.active.index!==b){if(d.working=!0,d.oldIndex=d.active.index,0>b?d.active.index=p()-1:b>=p()?d.active.index=0:d.active.index=b,j=d.settings.onSlideBefore.call(e,d.children.eq(d.active.index),d.oldIndex,d.active.index),"undefined"!=typeof j&&!j)return d.active.index=d.oldIndex,void(d.working=!1);if("next"===c?d.settings.onSlideNext.call(e,d.children.eq(d.active.index),d.oldIndex,d.active.index)||(j=!1):"prev"===c&&(d.settings.onSlidePrev.call(e,d.children.eq(d.active.index),d.oldIndex,d.active.index)||(j=!1)),"undefined"!=typeof j&&!j)return d.active.index=d.oldIndex,void(d.working=!1);d.active.last=d.active.index>=p()-1,(d.settings.pager||d.settings.pagerCustom)&&D(d.active.index),d.settings.controls&&G(),"fade"===d.settings.mode?(d.settings.adaptiveHeight&&d.viewport.height()!==l()&&d.viewport.animate({height:l()},d.settings.adaptiveHeightSpeed),d.children.filter(":visible").fadeOut(d.settings.speed).css({zIndex:0}),d.children.eq(d.active.index).css("zIndex",d.settings.slideZIndex+1).fadeIn(d.settings.speed,function(){a(this).css("zIndex",d.settings.slideZIndex),E()})):(d.settings.adaptiveHeight&&d.viewport.height()!==l()&&d.viewport.animate({height:l()},d.settings.adaptiveHeightSpeed),!d.settings.infiniteLoop&&d.carousel&&d.active.last?"horizontal"===d.settings.mode?(n=d.children.eq(d.children.length-1),m=n.position(),k=d.viewport.width()-n.outerWidth()):(f=d.children.length-d.settings.minSlides,m=d.children.eq(f).position()):d.carousel&&d.active.last&&"prev"===c?(g=1===d.settings.moveSlides?d.settings.maxSlides-q():(p()-1)*q()-(d.children.length-d.settings.maxSlides),n=e.children(".bx-clone").eq(g),m=n.position()):"next"===c&&0===d.active.index?(m=e.find("> .bx-clone").eq(d.settings.maxSlides).position(),d.active.last=!1):b>=0&&(i=b*q(),m=d.children.eq(i).position()),void 0!==typeof m&&(h="horizontal"===d.settings.mode?-(m.left-k):-m.top,s(h,"slide",d.settings.speed))),d.settings.ariaHidden&&S(d.active.index*q())}},e.goToNextSlide=function(){if(d.settings.infiniteLoop||!d.active.last){var a=parseInt(d.active.index)+1;e.goToSlide(a,"next")}},e.goToPrevSlide=function(){if(d.settings.infiniteLoop||0!==d.active.index){var a=parseInt(d.active.index)-1;e.goToSlide(a,"prev")}},e.startAuto=function(a){d.interval||(d.interval=setInterval(function(){"next"===d.settings.autoDirection?e.goToNextSlide():e.goToPrevSlide()},d.settings.pause),d.settings.autoControls&&a!==!0&&F("stop"))},e.stopAuto=function(a){d.interval&&(clearInterval(d.interval),d.interval=null,d.settings.autoControls&&a!==!0&&F("start"))},e.getCurrentSlide=function(){return d.active.index},e.getCurrentSlideElement=function(){return d.children.eq(d.active.index)},e.getSlideElement=function(a){return d.children.eq(a)},e.getSlideCount=function(){return d.children.length},e.isWorking=function(){return d.working},e.redrawSlider=function(){d.children.add(e.find(".bx-clone")).outerWidth(n()),d.viewport.css("height",l()),d.settings.ticker||r(),d.active.last&&(d.active.index=p()-1),d.active.index>=p()&&(d.active.last=!0),d.settings.pager&&!d.settings.pagerCustom&&(t(),D(d.active.index)),d.settings.ariaHidden&&S(d.active.index*q())},e.destroySlider=function(){d.initialized&&(d.initialized=!1,a(".bx-clone",this).remove(),d.children.each(function(){void 0!==a(this).data("origStyle")?a(this).attr("style",a(this).data("origStyle")):a(this).removeAttr("style")}),void 0!==a(this).data("origStyle")?this.attr("style",a(this).data("origStyle")):a(this).removeAttr("style"),a(this).unwrap().unwrap(),d.controls.el&&d.controls.el.remove(),d.controls.next&&d.controls.next.remove(),d.controls.prev&&d.controls.prev.remove(),d.pagerEl&&d.settings.controls&&!d.settings.pagerCustom&&d.pagerEl.remove(),a(".bx-caption",this).remove(),d.controls.autoEl&&d.controls.autoEl.remove(),clearInterval(d.interval),d.settings.responsive&&a(window).unbind("resize",R),d.settings.keyboardEnabled&&a(document).unbind("keydown",L),a(this).removeData("bxSlider"))},e.reloadSlider=function(b){void 0!==b&&(c=b),e.destroySlider(),h(),a(e).data("bxSlider",this)},h(),a(e).data("bxSlider",this),this}}}(jQuery);

/*
    jQuery Masked Input Plugin
    Copyright (c) 2007 - 2015 Josh Bush (digitalbush.com)
    Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
    Version: 1.4.1
*/
!function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports ? require("jquery") : jQuery) }(function (a) { var b, c = navigator.userAgent, d = /iphone/i.test(c), e = /chrome/i.test(c), f = /android/i.test(c); a.mask = { definitions: { 9: "[0-9]", a: "[A-Za-z]", "*": "[A-Za-z0-9]" }, autoclear: !0, dataName: "rawMaskFn", placeholder: "_" }, a.fn.extend({ caret: function (a, b) { var c; if (0 !== this.length && !this.is(":hidden")) return "number" == typeof a ? (b = "number" == typeof b ? b : a, this.each(function () { this.setSelectionRange ? this.setSelectionRange(a, b) : this.createTextRange && (c = this.createTextRange(), c.collapse(!0), c.moveEnd("character", b), c.moveStart("character", a), c.select()) })) : (this[0].setSelectionRange ? (a = this[0].selectionStart, b = this[0].selectionEnd) : document.selection && document.selection.createRange && (c = document.selection.createRange(), a = 0 - c.duplicate().moveStart("character", -1e5), b = a + c.text.length), { begin: a, end: b }) }, unmask: function () { return this.trigger("unmask") }, mask: function (c, g) { var h, i, j, k, l, m, n, o; if (!c && this.length > 0) { h = a(this[0]); var p = h.data(a.mask.dataName); return p ? p() : void 0 } return g = a.extend({ autoclear: a.mask.autoclear, placeholder: a.mask.placeholder, completed: null }, g), i = a.mask.definitions, j = [], k = n = c.length, l = null, a.each(c.split(""), function (a, b) { "?" == b ? (n--, k = a) : i[b] ? (j.push(new RegExp(i[b])), null === l && (l = j.length - 1), k > a && (m = j.length - 1)) : j.push(null) }), this.trigger("unmask").each(function () { function h() { if (g.completed) { for (var a = l; m >= a; a++) if (j[a] && C[a] === p(a)) return; g.completed.call(B) } } function p(a) { return g.placeholder.charAt(a < g.placeholder.length ? a : 0) } function q(a) { for (; ++a < n && !j[a];); return a } function r(a) { for (; --a >= 0 && !j[a];); return a } function s(a, b) { var c, d; if (!(0 > a)) { for (c = a, d = q(b) ; n > c; c++) if (j[c]) { if (!(n > d && j[c].test(C[d]))) break; C[c] = C[d], C[d] = p(d), d = q(d) } z(), B.caret(Math.max(l, a)) } } function t(a) { var b, c, d, e; for (b = a, c = p(a) ; n > b; b++) if (j[b]) { if (d = q(b), e = C[b], C[b] = c, !(n > d && j[d].test(e))) break; c = e } } function u() { var a = B.val(), b = B.caret(); if (o && o.length && o.length > a.length) { for (A(!0) ; b.begin > 0 && !j[b.begin - 1];) b.begin--; if (0 === b.begin) for (; b.begin < l && !j[b.begin];) b.begin++; B.caret(b.begin, b.begin) } else { for (A(!0) ; b.begin < n && !j[b.begin];) b.begin++; B.caret(b.begin, b.begin) } h() } function v() { A(), B.val() != E && B.change() } function w(a) { if (!B.prop("readonly")) { var b, c, e, f = a.which || a.keyCode; o = B.val(), 8 === f || 46 === f || d && 127 === f ? (b = B.caret(), c = b.begin, e = b.end, e - c === 0 && (c = 46 !== f ? r(c) : e = q(c - 1), e = 46 === f ? q(e) : e), y(c, e), s(c, e - 1), a.preventDefault()) : 13 === f ? v.call(this, a) : 27 === f && (B.val(E), B.caret(0, A()), a.preventDefault()) } } function x(b) { if (!B.prop("readonly")) { var c, d, e, g = b.which || b.keyCode, i = B.caret(); if (!(b.ctrlKey || b.altKey || b.metaKey || 32 > g) && g && 13 !== g) { if (i.end - i.begin !== 0 && (y(i.begin, i.end), s(i.begin, i.end - 1)), c = q(i.begin - 1), n > c && (d = String.fromCharCode(g), j[c].test(d))) { if (t(c), C[c] = d, z(), e = q(c), f) { var k = function () { a.proxy(a.fn.caret, B, e)() }; setTimeout(k, 0) } else B.caret(e); i.begin <= m && h() } b.preventDefault() } } } function y(a, b) { var c; for (c = a; b > c && n > c; c++) j[c] && (C[c] = p(c)) } function z() { B.val(C.join("")) } function A(a) { var b, c, d, e = B.val(), f = -1; for (b = 0, d = 0; n > b; b++) if (j[b]) { for (C[b] = p(b) ; d++ < e.length;) if (c = e.charAt(d - 1), j[b].test(c)) { C[b] = c, f = b; break } if (d > e.length) { y(b + 1, n); break } } else C[b] === e.charAt(d) && d++, k > b && (f = b); return a ? z() : k > f + 1 ? g.autoclear || C.join("") === D ? (B.val() && B.val(""), y(0, n)) : z() : (z(), B.val(B.val().substring(0, f + 1))), k ? b : l } var B = a(this), C = a.map(c.split(""), function (a, b) { return "?" != a ? i[a] ? p(b) : a : void 0 }), D = C.join(""), E = B.val(); B.data(a.mask.dataName, function () { return a.map(C, function (a, b) { return j[b] && a != p(b) ? a : null }).join("") }), B.one("unmask", function () { B.off(".mask").removeData(a.mask.dataName) }).on("focus.mask", function () { if (!B.prop("readonly")) { clearTimeout(b); var a; E = B.val(), a = A(), b = setTimeout(function () { B.get(0) === document.activeElement && (z(), a == c.replace("?", "").length ? B.caret(0, a) : B.caret(a)) }, 10) } }).on("blur.mask", v).on("keydown.mask", w).on("keypress.mask", x).on("input.mask paste.mask", function () { B.prop("readonly") || setTimeout(function () { var a = A(!0); B.caret(a), h() }, 0) }), e && f && B.off("input.mask").on("input.mask", u), A() }) } }) });

/*!
 * Miniscroll small plugin of scrollbar desktop and mobile
 *
 * @author Roger Luiz <http://rogerluizm.com.br/>
 *					  <http://miniscroll.rogerluizm.com.br>
 *
 * @copyright (c) 2011, 2012 <http://rogerluizm.com.br/>
 *
 * @version 1.2.9
 *    
 */
!function (t, s, i) { var e = { touchEvents: "ontouchstart" in s.documentElement }, h = function (t, s) { this.type = "", this.is = "static", this.target = this.getElement(t), this.container, this.tracker, this.thumb, this.thumb_delta = o(0, 0), this.thumb_pos = o(0, 0), this.touch = o(0, 0), this.settings = s, this.percent, this.keypos_thumb = o(0, 0), this.scrolling = !1, this.preventScrolling = !1, this.turnOffWheel = !0, this.initializing() }, o = function (t, s) { return this instanceof o ? (this.x = t ? t : 0, this.y = s ? s : 0, this) : new o(t, s) }; h[i].initializing = function () { this.buildScrollbar(), this.buildScrollbarTracker(), this.buildScrolbarThumb(), this.settings.isKeyEvent = "undefined" == typeof this.settings.isKeyEvent ? !0 : this.settings.isKeyEvent, this.turnOffWheel = "undefined" == typeof this.settings.turnOffWheel ? this.turnOffWheel : this.settings.turnOffWheel, this.settings.isKeyEvent && this.addKeyBoardEvent(), e.touchEvents ? this.setupTouchEvent() : this.setupEventHandler(); var s = this; t.setInterval(function () { s.update() }, 10) }, h[i].buildScrollbar = function () { var t = this.target.id ? this.target.id : this.target.className; this.container = this.create(this.target, "div", { "class": "miniscroll-container", id: "miniscroll-" + t }); var s = this.settings.scrollbarSize ? this.settings.scrollbarSize : this.offset(this.target).height, i = this.settings.scrollbarSize ? this.settings.scrollbarSize : this.offset(this.target).width, e = this.offset(this.target).left + (this.offset(this.target).width - this.settings.size), h = this.offset(this.target).top + (this.offset(this.target).height - this.settings.size); this.css(this.container, { position: "absolute", visibility: "hidden", width: ("x" === this.settings.axis ? i : this.settings.size) + "px", height: ("y" === this.settings.axis ? s : this.settings.size) + "px", top: ("y" === this.settings.axis ? this.offset(this.target).top : h) + "px", left: ("x" === this.settings.axis ? this.offset(this.target).left : e) + "px", zIndex: this.getZindex(this.target) }) }, h[i].buildScrollbarTracker = function () { this.tracker = this.create(this.container, "div", { "class": "miniscroll-tracker" }); var t = "x" === this.settings.axis ? this.offset(this.container).width : this.settings.size, s = "y" === this.settings.axis ? this.offset(this.container).height : this.settings.size; this.css(this.tracker, { width: t + "px", height: s + "px", backgroundColor: this.settings.trackerColor ? this.settings.trackerColor : "#067f41" }) }, h[i].buildScrolbarThumb = function () { this.thumb = this.create(this.container, "div", { "class": "miniscroll-thumb" }); var t = o(this.offset(this.container).width * this.offset(this.tracker).width / this.target.scrollWidth, this.offset(this.container).height * this.offset(this.tracker).height / this.target.scrollHeight), t = o(this.offset(this.container).width * this.offset(this.tracker).width / this.target.scrollWidth, this.offset(this.container).height * this.offset(this.tracker).height / this.target.scrollHeight), s = o(void 0 === this.settings.sizethumb || "auto" === this.settings.sizethumb ? t.x : this.settings.sizethumb, void 0 === this.settings.sizethumb || "auto" === this.settings.sizethumb ? t.y : this.settings.sizethumb); this.css(this.thumb, { position: "absolute", top: "0px", left: "0px", width: ("x" === this.settings.axis ? s.x : this.settings.size) + "px", height: ("y" === this.settings.axis ? s.y : this.settings.size) + "px", backgroundColor: this.settings.thumbColor ? this.settings.thumbColor : "#2AD47D" }) }, h[i].setupEventHandler = function () { this.bind(this.thumb, "mousedown", this.onScrollThumbPress), this.bind(this.tracker, "mousedown", this.onScrollTrackerPress), this.turnOffWheel && this.bind(this.target, "mousewheel", this.onScrollThumbWheel) }, h[i].setupTouchEvent = function () { this.bind(this.target, "touchstart", this.onScrollTouchStart), this.bind(this.target, "touchmove", this.onScrollTouchMove) }, h[i].updateContainerPosition = function () { this.is = this.getCss(this.target, "position"), "relative" === this.is || "absolute" === this.is ? "y" === this.settings.axis ? (this.container.style.top = this.target.scrollTop + "px", this.container.style.left = this.offset(this.target).width - this.settings.size + "px") : (this.container.style.top = this.offset(this.target).height - this.settings.size + "px", this.container.style.left = this.target.scrollLeft + "px") : "y" === this.settings.axis ? this.container.style.top = this.offset(this.target).top + "px" : this.container.style.left = this.offset(this.target).left + "px" }, h[i].setScrubPosition = function (t) { var s = this.offset(this.container).width, i = this.offset(this.container).height, e = this.offset(this.thumb).width, h = this.offset(this.thumb).height; this.thumb_pos = o(Math.round((s - e) * t), Math.round((i - h) * t)), "y" === this.settings.axis ? this.thumb.style.top = Math.round(this.thumb_pos.y) + "px" : this.thumb.style.left = Math.round(this.thumb_pos.x) + "px" }, h[i].addKeyBoardEvent = function () { this.target.setAttribute("tabindex", "-1"), this.css(this.target, { outline: "none" }), this.bind(this.target, "focus", function (t, i) { !("onkeydown" in i) && "onkeydown" in s && (i = s), this.bind(i, "keydown", function (t) { if (t.target == this.target) { var s, i = t.keyCode || t.which, e = { left: 37, up: 38, right: 39, down: 40 }, h = !0; switch (i) { case e.up: 0 !== this.percent && (this.keypos_thumb.y -= 10); break; case e.down: 1 !== this.percent && (this.keypos_thumb.y += 10); break; case e.left: 0 !== this.percent && (this.keypos_thumb.x -= 10); break; case e.right: 1 !== this.percent && (this.keypos_thumb.x += 10); break; default: h = !1 } "y" === this.settings.axis ? (this.percent = this.target.scrollTop / (this.target.scrollHeight - this.target.offsetHeight), this.setScrubPosition(this.percent), this.target.scrollTop = this.keypos_thumb.y, s = [38, 40]) : (this.percent = this.target.scrollLeft / (this.target.scrollWidth - this.target.offsetWidth), this.setScrubPosition(this.percent), this.target.scrollLeft = this.keypos_thumb.x, s = [37, 39]), this.preventScrolling = this.percent >= 1 && i == s[1] || this.percent <= 0 && i == s[0] ? !0 : !1, !this.preventScrolling && h && this.stopEvent(t), this.updateContainerPosition() } }) }), this.bind(this.target, "click", function (t, i) { if (t.target == this.target) { try { s.activeElement = i } catch (e) { } i.focus() } }) }, h[i].onScrollTouchStart = function (t) { var s = t.touches[0]; this.scrolling = !0, this.touch = o(s.pageX, s.pageY), this.bind(this.target, "touchend", this.onScrollTouchEnd) }, h[i].onScrollTouchMove = function (t) { var s = t.touches[0]; t.preventDefault(); var i = o(this.touch.x - s.pageX, this.touch.y - s.pageY); this.touch = o(s.pageX, s.pageY), "y" === this.settings.axis ? (this.percent = this.target.scrollTop / (this.target.scrollHeight - this.target.offsetHeight), this.setScrubPosition(this.percent), this.target.scrollTop = this.target.scrollTop + i.y) : (this.percent = this.target.scrollLeft / (this.target.scrollWidth - this.target.offsetWidth), this.setScrubPosition(this.percent), this.target.scrollLeft = this.target.scrollLeft + i.x), this.updateContainerPosition() }, h[i].onScrollTouchEnd = function () { this.scrolling = !1, this.unbind(this.target, "touchend", this.onScrollTouchEnd) }, h[i].onScrollThumbPress = function (i) { i = i ? i : t.event, this.stopEvent(i), this.scrolling = !0, this.thumb_delta = o(this.thumb_pos.x - this.mouse(i).x, this.thumb_pos.y - this.mouse(i).y), this.bind(s, "mousemove", this.onScrollThumbUpdate), this.bind(s, "mouseup", this.onScrollThumbRelease), this.updateContainerPosition() }, h[i].onScrollThumbUpdate = function (s) { return s = s ? s : t.event, this.stopEvent(s), this.scrolling ? (this.thumb_pos = o(this.mouse(s).x + this.thumb_delta.x, this.mouse(s).y + this.thumb_delta.y), this.thumb_pos = o(Math.max(0, Math.min(this.container.offsetWidth - this.thumb.offsetWidth, this.thumb_pos.x)), Math.max(0, Math.min(this.container.offsetHeight - this.thumb.offsetHeight, this.thumb_pos.y))), this.percent = o(this.thumb_pos.x / (this.container.offsetWidth - this.thumb.offsetWidth), this.thumb_pos.y / (this.container.offsetHeight - this.thumb.offsetHeight)), this.percent = o(Math.max(0, Math.min(1, this.percent.x)), Math.max(0, Math.min(1, this.percent.y))), "y" === this.settings.axis ? (this.thumb.style.top = Math.round(this.thumb_pos.y) + "px", this.target.scrollTop = Math.round((this.target.scrollHeight - this.target.offsetHeight) * this.percent.y)) : (this.thumb.style.left = Math.round(this.thumb_pos.x) + "px", this.target.scrollLeft = Math.round((this.target.scrollWidth - this.target.offsetWidth) * this.percent.x)), this.keypos_thumb = o(this.target.scrollLeft, this.target.scrollTop), void this.updateContainerPosition()) : !1 }, h[i].onScrollThumbWheel = function (i) { i = i ? i : t.event; var e, h = i || t.event, n = ([].slice.call(arguments, 1), 0), r = 0, a = 0; if (h.wheelDelta && (n = h.wheelDelta / 120), h.detail && (n = -h.detail / 3), a = n, r = n, h.deltaMode && (a = -h.deltaY / 3, r = -h.deltaX / 3), void 0 !== h.axis && h.axis === h.HORIZONTAL_AXIS && (a = 0, r = -1 * n), void 0 !== h.wheelDeltaY && (a = h.wheelDeltaY / 120), void 0 !== h.wheelDeltaX && (r = -1 * h.wheelDeltaX / 120), "y" === this.settings.axis ? (this.percent = this.target.scrollTop / (this.target.scrollHeight - this.target.offsetHeight), this.setScrubPosition(this.percent), this.target.scrollTop = Math.round(this.target.scrollTop - 10 * a), e = a) : (this.percent = this.target.scrollLeft / (this.target.scrollWidth - this.target.offsetWidth), this.setScrubPosition(this.percent), this.target.scrollLeft = Math.round(this.target.scrollLeft - 10 * r), e = r), this.preventScrolling = this.percent >= 1 && 0 > e || this.percent <= 0 && e > 0 || 0 == e ? !0 : !1, this.preventScrolling || this.stopEvent(i), this.keypos_thumb = o(this.target.scrollLeft, this.target.scrollTop), s.createEvent) { var l = s.createEvent("HTMLEvents"); l.initEvent("scroll", !0, !1), this.target.dispatchEvent(l) } else { var l = s.createEventObject(); this.target.fireEvent("onscroll", l) } this.updateContainerPosition() }, h[i].onScrollThumbRelease = function (i) { i = i ? i : t.event, this.stopEvent(i), this.scrolling = !1, this.unbind(s, "mousemove", this.onScrollThumbUpdate), this.unbind(s, "mouseup", this.onScrollThumbRelease) }, h[i].onScrollTrackerPress = function (t) { var s = this.mouse(t).y - this.offset(this.container).top; this.scrolling = !0, this.scrollTo(s) }, h[i].scrollTo = function (t) { var s = Math.max(0, Math.min(this.offset(this.target).height - this.offset(this.thumb).height, t)); "y" === this.settings.axis && (this.thumb_pos.y = s, this.thumb.style.top = Math.round(this.thumb_pos.y) + "px", this.target.scrollTop = s, this.scrolling = !1) }, h[i].update = function () { "y" === this.settings.axis ? this.target.scrollHeight === this.offset(this.target).height ? this.css(this.container, { visibility: "hidden" }) : this.css(this.container, { visibility: "visible" }) : this.target.scrollWidth === this.offset(this.target).width ? this.css(this.container, { visibility: "hidden" }) : this.css(this.container, { visibility: "visible" }); var t = this.settings.scrollbarSize ? this.settings.scrollbarSize : this.offset(this.target).height, s = this.settings.scrollbarSize ? this.settings.scrollbarSize : this.offset(this.target).width, i = this.offset(this.target).left + (this.offset(this.target).width - this.settings.size), e = this.offset(this.target).top + (this.offset(this.target).height - this.settings.size); this.css(this.container, { width: ("x" === this.settings.axis ? s : this.settings.size) + "px", height: ("y" === this.settings.axis ? t : this.settings.size) + "px", top: ("y" === this.settings.axis ? this.offset(this.target).top : e) + "px", left: ("x" === this.settings.axis ? this.offset(this.target).left : i) + "px" }); var h = "x" === this.settings.axis ? this.offset(this.container).width : this.settings.size, n = "y" === this.settings.axis ? this.offset(this.container).height : this.settings.size; this.css(this.tracker, { width: h + "px", height: n + "px" }); var r = o(this.offset(this.container).width * this.offset(this.tracker).width / this.target.scrollWidth, this.offset(this.container).height * this.offset(this.tracker).height / this.target.scrollHeight), a = o(void 0 === this.settings.sizethumb || "auto" === this.settings.sizethumb ? r.x : this.settings.sizethumb, void 0 === this.settings.sizethumb || "auto" === this.settings.sizethumb ? r.y : this.settings.sizethumb); this.css(this.thumb, { width: ("x" === this.settings.axis ? a.x : this.settings.size) + "px", height: ("y" === this.settings.axis ? a.y : this.settings.size) + "px" }), "y" === this.settings.axis ? (this.percent = this.target.scrollTop / (this.target.scrollHeight - this.target.offsetHeight), this.scrolling || this.setScrubPosition(this.percent)) : (this.percent = this.target.scrollLeft / (this.target.scrollWidth - this.target.offsetWidth), this.scrolling || this.setScrubPosition(this.percent)), this.updateContainerPosition() }, h[i].getElement = function (i) { var e; if (i === t || i === s || "body" === i || "body, html" === i) return s.body; if ("string" == typeof i || i instanceof String) { var e, h = i.replace(/^\s+/, "").replace(/\s+$/, ""); if (h.indexOf("#") > -1) { this.type = "id"; var o = h.split("#"); e = s.getElementById(o[1]) } if (h.indexOf(".") > -1) { this.type = "class"; for (var o = h.split("."), n = s.getElementsByTagName("*"), r = n.length, a = 0; r > a; a++) n[a].className && n[a].className.match(new RegExp("(^|\\s)" + o[1] + "(\\s|$)")) && (e = n[a]) } return e } return i }, h[i].create = function (t, i, e) { var h = s.createElement(i); if (e) { for (var o in e) e.hasOwnProperty(o) && h.setAttribute(o, e[o]); t.appendChild(h) } return h }, h[i].css = function (t, s) { for (var i in s) "opacity" === i ? (t.style.filter = "alpha(opacity=" + 100 * s[i] + ")", t.style.KhtmlOpacity = s[i], t.style.MozOpacity = s[i], t.style.opacity = s[i]) : t.style[i] = s[i] }, h[i].getCss = function (i, e) { var h; return h = t.getComputedStyle ? t.getComputedStyle(i).getPropertyValue(e) : s.defaultView && s.defaultView.getComputedStyle ? s.defaultView.getComputedStyle.getPropertyValue(e) : i.currentStyle ? i.currentStyle[e] : i.style[e] }, h[i].offset = function (t) { var s = t.offsetTop, i = t.offsetLeft, e = t.offsetHeight; "undefined" == typeof t.offsetHeight && (e = parseInt(this.getCss(t, "height"))); var h = t.offsetWidth; return "undefined" == typeof t.offsetWidth && (h = parseInt(this.getCss(t, "width"))), { top: s, left: i, width: h, height: e } }, h[i].getZindex = function (t) { for (var s = 0, i = 0, e = 0, h = t.getElementsByTagName("*"), o = 0; o < h.length; o++) e = this.getCss(h[o], "position"), h[o].style.position = "relative", i = Number(this.getCss(h[o], "z-index")), h[o].style.position = e, i > s && (s = i + 1); return s }, h[i].mouse = function (t) { var i = 0, e = 0; return t.pageX || t.pageY ? (i = t.pageX, e = t.pageY) : (t.clientX || t.clientY) && (i = t.clientX + s.body.scrollLeft + s.documentElement.scrollLeft, e = t.clientY + s.body.scrollTop + s.documentElement.scrollTop), { x: i, y: e } }, h[i].bind = function (t, i, e) { var h = "onwheel" in s.createElement("div") ? "wheel" : void 0 !== s.onmousewheel ? "mousewheel" : "DOMMouseScroll", o = this; t.addEventListener ? "mousewheel" === i ? t.addEventListener(h, function (t) { e.call(o, t, this) }, !1) : t.addEventListener(i, function (t) { e.call(o, t, this) }, !1) : t.attachEvent ? t.attachEvent("on" + i, function (t) { e.call(o, t, this) }) : t["on" + i] = function (t) { e.call(o, t, this) } }, h[i].unbind = function (t, i, e) { var h = "onwheel" in s.createElement("div") ? "wheel" : void 0 !== s.onmousewheel ? "mousewheel" : "DOMMouseScroll"; t.addEventListener ? "mousewheel" === i ? t.removeEventListener(h, function (t) { e.call(_this, t, this) }, !1) : t.removeEventListener(i, function (t) { e.call(_this, t, this) }, !1) : t.attachEvent ? t.detachEvent("on" + i, function (t) { e.call(_this, t, this) }) : t["on" + i] = null }, h[i].stopEvent = function (t) { t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0, t.preventDefault ? t.preventDefault() : t.returnValue = !1 }, t.Miniscroll = h }(window, document, "prototype");


/* Tooltipster v3.3.0 */; (function (e, t, n) { function s(t, n) { this.bodyOverflowX; this.callbacks = { hide: [], show: [] }; this.checkInterval = null; this.Content; this.$el = e(t); this.$elProxy; this.elProxyPosition; this.enabled = true; this.options = e.extend({}, i, n); this.mouseIsOverProxy = false; this.namespace = "tooltipster-" + Math.round(Math.random() * 1e5); this.Status = "hidden"; this.timerHide = null; this.timerShow = null; this.$tooltip; this.options.iconTheme = this.options.iconTheme.replace(".", ""); this.options.theme = this.options.theme.replace(".", ""); this._init() } function o(t, n) { var r = true; e.each(t, function (e, i) { if (typeof n[e] === "undefined" || t[e] !== n[e]) { r = false; return false } }); return r } function f() { return !a && u } function l() { var e = n.body || n.documentElement, t = e.style, r = "transition"; if (typeof t[r] == "string") { return true } v = ["Moz", "Webkit", "Khtml", "O", "ms"], r = r.charAt(0).toUpperCase() + r.substr(1); for (var i = 0; i < v.length; i++) { if (typeof t[v[i] + r] == "string") { return true } } return false } var r = "tooltipster", i = { animation: "fade", arrow: true, arrowColor: "", autoClose: true, content: null, contentAsHTML: false, contentCloning: true, debug: true, delay: 200, minWidth: 0, maxWidth: null, functionInit: function (e, t) { }, functionBefore: function (e, t) { t() }, functionReady: function (e, t) { }, functionAfter: function (e) { }, hideOnClick: false, icon: "(?)", iconCloning: true, iconDesktop: false, iconTouch: false, iconTheme: "tooltipster-icon", interactive: false, interactiveTolerance: 350, multiple: false, offsetX: 0, offsetY: 0, onlyOne: false, position: "top", positionTracker: false, positionTrackerCallback: function (e) { if (this.option("trigger") == "hover" && this.option("autoClose")) { this.hide() } }, restoration: "current", speed: 350, timer: 0, theme: "tooltipster-default", touchDevices: true, trigger: "hover", updateAnimation: true }; s.prototype = { _init: function () { var t = this; if (n.querySelector) { var r = null; if (t.$el.data("tooltipster-initialTitle") === undefined) { r = t.$el.attr("title"); if (r === undefined) r = null; t.$el.data("tooltipster-initialTitle", r) } if (t.options.content !== null) { t._content_set(t.options.content) } else { t._content_set(r) } var i = t.options.functionInit.call(t.$el, t.$el, t.Content); if (typeof i !== "undefined") t._content_set(i); t.$el.removeAttr("title").addClass("tooltipstered"); if (!u && t.options.iconDesktop || u && t.options.iconTouch) { if (typeof t.options.icon === "string") { t.$elProxy = e('<span class="' + t.options.iconTheme + '"></span>'); t.$elProxy.text(t.options.icon) } else { if (t.options.iconCloning) t.$elProxy = t.options.icon.clone(true); else t.$elProxy = t.options.icon } t.$elProxy.insertAfter(t.$el) } else { t.$elProxy = t.$el } if (t.options.trigger == "hover") { t.$elProxy.on("mouseenter." + t.namespace, function () { if (!f() || t.options.touchDevices) { t.mouseIsOverProxy = true; t._show() } }).on("mouseleave." + t.namespace, function () { if (!f() || t.options.touchDevices) { t.mouseIsOverProxy = false } }); if (u && t.options.touchDevices) { t.$elProxy.on("touchstart." + t.namespace, function () { t._showNow() }) } } else if (t.options.trigger == "click") { t.$elProxy.on("click." + t.namespace, function () { if (!f() || t.options.touchDevices) { t._show() } }) } } }, _show: function () { var e = this; if (e.Status != "shown" && e.Status != "appearing") { if (e.options.delay) { e.timerShow = setTimeout(function () { if (e.options.trigger == "click" || e.options.trigger == "hover" && e.mouseIsOverProxy) { e._showNow() } }, e.options.delay) } else e._showNow() } }, _showNow: function (n) { var r = this; r.options.functionBefore.call(r.$el, r.$el, function () { if (r.enabled && r.Content !== null) { if (n) r.callbacks.show.push(n); r.callbacks.hide = []; clearTimeout(r.timerShow); r.timerShow = null; clearTimeout(r.timerHide); r.timerHide = null; if (r.options.onlyOne) { e(".tooltipstered").not(r.$el).each(function (t, n) { var r = e(n), i = r.data("tooltipster-ns"); e.each(i, function (e, t) { var n = r.data(t), i = n.status(), s = n.option("autoClose"); if (i !== "hidden" && i !== "disappearing" && s) { n.hide() } }) }) } var i = function () { r.Status = "shown"; e.each(r.callbacks.show, function (e, t) { t.call(r.$el) }); r.callbacks.show = [] }; if (r.Status !== "hidden") { var s = 0; if (r.Status === "disappearing") { r.Status = "appearing"; if (l()) { r.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-" + r.options.animation + "-show"); if (r.options.speed > 0) r.$tooltip.delay(r.options.speed); r.$tooltip.queue(i) } else { r.$tooltip.stop().fadeIn(i) } } else if (r.Status === "shown") { i() } } else { r.Status = "appearing"; var s = r.options.speed; r.bodyOverflowX = e("body").css("overflow-x"); e("body").css("overflow-x", "hidden"); var o = "tooltipster-" + r.options.animation, a = "-webkit-transition-duration: " + r.options.speed + "ms; -webkit-animation-duration: " + r.options.speed + "ms; -moz-transition-duration: " + r.options.speed + "ms; -moz-animation-duration: " + r.options.speed + "ms; -o-transition-duration: " + r.options.speed + "ms; -o-animation-duration: " + r.options.speed + "ms; -ms-transition-duration: " + r.options.speed + "ms; -ms-animation-duration: " + r.options.speed + "ms; transition-duration: " + r.options.speed + "ms; animation-duration: " + r.options.speed + "ms;", f = r.options.minWidth ? "min-width:" + Math.round(r.options.minWidth) + "px;" : "", c = r.options.maxWidth ? "max-width:" + Math.round(r.options.maxWidth) + "px;" : "", h = r.options.interactive ? "pointer-events: auto;" : ""; r.$tooltip = e('<div class="tooltipster-base ' + r.options.theme + '" style="' + f + " " + c + " " + h + " " + a + '"><div class="tooltipster-content"></div></div>'); if (l()) r.$tooltip.addClass(o); r._content_insert(); r.$tooltip.appendTo("body"); r.reposition(); r.options.functionReady.call(r.$el, r.$el, r.$tooltip); if (l()) { r.$tooltip.addClass(o + "-show"); if (r.options.speed > 0) r.$tooltip.delay(r.options.speed); r.$tooltip.queue(i) } else { r.$tooltip.css("display", "none").fadeIn(r.options.speed, i) } r._interval_set(); e(t).on("scroll." + r.namespace + " resize." + r.namespace, function () { r.reposition() }); if (r.options.autoClose) { e("body").off("." + r.namespace); if (r.options.trigger == "hover") { if (u) { setTimeout(function () { e("body").on("touchstart." + r.namespace, function () { r.hide() }) }, 0) } if (r.options.interactive) { if (u) { r.$tooltip.on("touchstart." + r.namespace, function (e) { e.stopPropagation() }) } var p = null; r.$elProxy.add(r.$tooltip).on("mouseleave." + r.namespace + "-autoClose", function () { clearTimeout(p); p = setTimeout(function () { r.hide() }, r.options.interactiveTolerance) }).on("mouseenter." + r.namespace + "-autoClose", function () { clearTimeout(p) }) } else { r.$elProxy.on("mouseleave." + r.namespace + "-autoClose", function () { r.hide() }) } if (r.options.hideOnClick) { r.$elProxy.on("click." + r.namespace + "-autoClose", function () { r.hide() }) } } else if (r.options.trigger == "click") { setTimeout(function () { e("body").on("click." + r.namespace + " touchstart." + r.namespace, function () { r.hide() }) }, 0); if (r.options.interactive) { r.$tooltip.on("click." + r.namespace + " touchstart." + r.namespace, function (e) { e.stopPropagation() }) } } } } if (r.options.timer > 0) { r.timerHide = setTimeout(function () { r.timerHide = null; r.hide() }, r.options.timer + s) } } }) }, _interval_set: function () { var t = this; t.checkInterval = setInterval(function () { if (e("body").find(t.$el).length === 0 || e("body").find(t.$elProxy).length === 0 || t.Status == "hidden" || e("body").find(t.$tooltip).length === 0) { if (t.Status == "shown" || t.Status == "appearing") t.hide(); t._interval_cancel() } else { if (t.options.positionTracker) { var n = t._repositionInfo(t.$elProxy), r = false; if (o(n.dimension, t.elProxyPosition.dimension)) { if (t.$elProxy.css("position") === "fixed") { if (o(n.position, t.elProxyPosition.position)) r = true } else { if (o(n.offset, t.elProxyPosition.offset)) r = true } } if (!r) { t.reposition(); t.options.positionTrackerCallback.call(t, t.$el) } } } }, 200) }, _interval_cancel: function () { clearInterval(this.checkInterval); this.checkInterval = null }, _content_set: function (e) { if (typeof e === "object" && e !== null && this.options.contentCloning) { e = e.clone(true) } this.Content = e }, _content_insert: function () { var e = this, t = this.$tooltip.find(".tooltipster-content"); if (typeof e.Content === "string" && !e.options.contentAsHTML) { t.text(e.Content) } else { t.empty().append(e.Content) } }, _update: function (e) { var t = this; t._content_set(e); if (t.Content !== null) { if (t.Status !== "hidden") { t._content_insert(); t.reposition(); if (t.options.updateAnimation) { if (l()) { t.$tooltip.css({ width: "", "-webkit-transition": "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms", "-moz-transition": "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms", "-o-transition": "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms", "-ms-transition": "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms", transition: "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms" }).addClass("tooltipster-content-changing"); setTimeout(function () { if (t.Status != "hidden") { t.$tooltip.removeClass("tooltipster-content-changing"); setTimeout(function () { if (t.Status !== "hidden") { t.$tooltip.css({ "-webkit-transition": t.options.speed + "ms", "-moz-transition": t.options.speed + "ms", "-o-transition": t.options.speed + "ms", "-ms-transition": t.options.speed + "ms", transition: t.options.speed + "ms" }) } }, t.options.speed) } }, t.options.speed) } else { t.$tooltip.fadeTo(t.options.speed, .5, function () { if (t.Status != "hidden") { t.$tooltip.fadeTo(t.options.speed, 1) } }) } } } } else { t.hide() } }, _repositionInfo: function (e) { return { dimension: { height: e.outerHeight(false), width: e.outerWidth(false) }, offset: e.offset(), position: { left: parseInt(e.css("left")), top: parseInt(e.css("top")) } } }, hide: function (n) { var r = this; if (n) r.callbacks.hide.push(n); r.callbacks.show = []; clearTimeout(r.timerShow); r.timerShow = null; clearTimeout(r.timerHide); r.timerHide = null; var i = function () { e.each(r.callbacks.hide, function (e, t) { t.call(r.$el) }); r.callbacks.hide = [] }; if (r.Status == "shown" || r.Status == "appearing") { r.Status = "disappearing"; var s = function () { r.Status = "hidden"; if (typeof r.Content == "object" && r.Content !== null) { r.Content.detach() } r.$tooltip.remove(); r.$tooltip = null; e(t).off("." + r.namespace); e("body").off("." + r.namespace).css("overflow-x", r.bodyOverflowX); e("body").off("." + r.namespace); r.$elProxy.off("." + r.namespace + "-autoClose"); r.options.functionAfter.call(r.$el, r.$el); i() }; if (l()) { r.$tooltip.clearQueue().removeClass("tooltipster-" + r.options.animation + "-show").addClass("tooltipster-dying"); if (r.options.speed > 0) r.$tooltip.delay(r.options.speed); r.$tooltip.queue(s) } else { r.$tooltip.stop().fadeOut(r.options.speed, s) } } else if (r.Status == "hidden") { i() } return r }, show: function (e) { this._showNow(e); return this }, update: function (e) { return this.content(e) }, content: function (e) { if (typeof e === "undefined") { return this.Content } else { this._update(e); return this } }, reposition: function () { var n = this; if (e("body").find(n.$tooltip).length !== 0) { n.$tooltip.css("width", ""); n.elProxyPosition = n._repositionInfo(n.$elProxy); var r = null, i = e(t).width(), s = n.elProxyPosition, o = n.$tooltip.outerWidth(false), u = n.$tooltip.innerWidth() + 1, a = n.$tooltip.outerHeight(false); if (n.$elProxy.is("area")) { var f = n.$elProxy.attr("shape"), l = n.$elProxy.parent().attr("name"), c = e('img[usemap="#' + l + '"]'), h = c.offset().left, p = c.offset().top, d = n.$elProxy.attr("coords") !== undefined ? n.$elProxy.attr("coords").split(",") : undefined; if (f == "circle") { var v = parseInt(d[0]), m = parseInt(d[1]), g = parseInt(d[2]); s.dimension.height = g * 2; s.dimension.width = g * 2; s.offset.top = p + m - g; s.offset.left = h + v - g } else if (f == "rect") { var v = parseInt(d[0]), m = parseInt(d[1]), y = parseInt(d[2]), b = parseInt(d[3]); s.dimension.height = b - m; s.dimension.width = y - v; s.offset.top = p + m; s.offset.left = h + v } else if (f == "poly") { var w = [], E = [], S = 0, x = 0, T = 0, N = 0, C = "even"; for (var k = 0; k < d.length; k++) { var L = parseInt(d[k]); if (C == "even") { if (L > T) { T = L; if (k === 0) { S = T } } if (L < S) { S = L } C = "odd" } else { if (L > N) { N = L; if (k == 1) { x = N } } if (L < x) { x = L } C = "even" } } s.dimension.height = N - x; s.dimension.width = T - S; s.offset.top = p + x; s.offset.left = h + S } else { s.dimension.height = c.outerHeight(false); s.dimension.width = c.outerWidth(false); s.offset.top = p; s.offset.left = h } } var A = 0, O = 0, M = 0, _ = parseInt(n.options.offsetY), D = parseInt(n.options.offsetX), P = n.options.position; function H() { var n = e(t).scrollLeft(); if (A - n < 0) { r = A - n; A = n } if (A + o - n > i) { r = A - (i + n - o); A = i + n - o } } function B(n, r) { if (s.offset.top - e(t).scrollTop() - a - _ - 12 < 0 && r.indexOf("top") > -1) { P = n } if (s.offset.top + s.dimension.height + a + 12 + _ > e(t).scrollTop() + e(t).height() && r.indexOf("bottom") > -1) { P = n; M = s.offset.top - a - _ - 12 } } if (P == "top") { var j = s.offset.left + o - (s.offset.left + s.dimension.width); A = s.offset.left + D - j / 2; M = s.offset.top - a - _ - 12; H(); B("bottom", "top") } if (P == "top-left") { A = s.offset.left + D; M = s.offset.top - a - _ - 12; H(); B("bottom-left", "top-left") } if (P == "top-right") { A = s.offset.left + s.dimension.width + D - o; M = s.offset.top - a - _ - 12; H(); B("bottom-right", "top-right") } if (P == "bottom") { var j = s.offset.left + o - (s.offset.left + s.dimension.width); A = s.offset.left - j / 2 + D; M = s.offset.top + s.dimension.height + _ + 12; H(); B("top", "bottom") } if (P == "bottom-left") { A = s.offset.left + D; M = s.offset.top + s.dimension.height + _ + 12; H(); B("top-left", "bottom-left") } if (P == "bottom-right") { A = s.offset.left + s.dimension.width + D - o; M = s.offset.top + s.dimension.height + _ + 12; H(); B("top-right", "bottom-right") } if (P == "left") { A = s.offset.left - D - o - 12; O = s.offset.left + D + s.dimension.width + 12; var F = s.offset.top + a - (s.offset.top + s.dimension.height); M = s.offset.top - F / 2 - _; if (A < 0 && O + o > i) { var I = parseFloat(n.$tooltip.css("border-width")) * 2, q = o + A - I; n.$tooltip.css("width", q + "px"); a = n.$tooltip.outerHeight(false); A = s.offset.left - D - q - 12 - I; F = s.offset.top + a - (s.offset.top + s.dimension.height); M = s.offset.top - F / 2 - _ } else if (A < 0) { A = s.offset.left + D + s.dimension.width + 12; r = "left" } } if (P == "right") { A = s.offset.left + D + s.dimension.width + 12; O = s.offset.left - D - o - 12; var F = s.offset.top + a - (s.offset.top + s.dimension.height); M = s.offset.top - F / 2 - _; if (A + o > i && O < 0) { var I = parseFloat(n.$tooltip.css("border-width")) * 2, q = i - A - I; n.$tooltip.css("width", q + "px"); a = n.$tooltip.outerHeight(false); F = s.offset.top + a - (s.offset.top + s.dimension.height); M = s.offset.top - F / 2 - _ } else if (A + o > i) { A = s.offset.left - D - o - 12; r = "right" } } if (n.options.arrow) { var R = "tooltipster-arrow-" + P; if (n.options.arrowColor.length < 1) { var U = n.$tooltip.css("background-color") } else { var U = n.options.arrowColor } if (!r) { r = "" } else if (r == "left") { R = "tooltipster-arrow-right"; r = "" } else if (r == "right") { R = "tooltipster-arrow-left"; r = "" } else { r = "left:" + Math.round(r) + "px;" } if (P == "top" || P == "top-left" || P == "top-right") { var z = parseFloat(n.$tooltip.css("border-bottom-width")), W = n.$tooltip.css("border-bottom-color") } else if (P == "bottom" || P == "bottom-left" || P == "bottom-right") { var z = parseFloat(n.$tooltip.css("border-top-width")), W = n.$tooltip.css("border-top-color") } else if (P == "left") { var z = parseFloat(n.$tooltip.css("border-right-width")), W = n.$tooltip.css("border-right-color") } else if (P == "right") { var z = parseFloat(n.$tooltip.css("border-left-width")), W = n.$tooltip.css("border-left-color") } else { var z = parseFloat(n.$tooltip.css("border-bottom-width")), W = n.$tooltip.css("border-bottom-color") } if (z > 1) { z++ } var X = ""; if (z !== 0) { var V = "", J = "border-color: " + W + ";"; if (R.indexOf("bottom") !== -1) { V = "margin-top: -" + Math.round(z) + "px;" } else if (R.indexOf("top") !== -1) { V = "margin-bottom: -" + Math.round(z) + "px;" } else if (R.indexOf("left") !== -1) { V = "margin-right: -" + Math.round(z) + "px;" } else if (R.indexOf("right") !== -1) { V = "margin-left: -" + Math.round(z) + "px;" } X = '<span class="tooltipster-arrow-border" style="' + V + " " + J + ';"></span>' } n.$tooltip.find(".tooltipster-arrow").remove(); var K = '<div class="' + R + ' tooltipster-arrow" style="' + r + '">' + X + '<span style="border-color:' + U + ';"></span></div>'; n.$tooltip.append(K) } n.$tooltip.css({ top: Math.round(M) + "px", left: Math.round(A) + "px" }) } return n }, enable: function () { this.enabled = true; return this }, disable: function () { this.hide(); this.enabled = false; return this }, destroy: function () { var t = this; t.hide(); if (t.$el[0] !== t.$elProxy[0]) { t.$elProxy.remove() } t.$el.removeData(t.namespace).off("." + t.namespace); var n = t.$el.data("tooltipster-ns"); if (n.length === 1) { var r = null; if (t.options.restoration === "previous") { r = t.$el.data("tooltipster-initialTitle") } else if (t.options.restoration === "current") { r = typeof t.Content === "string" ? t.Content : e("<div></div>").append(t.Content).html() } if (r) { t.$el.attr("title", r) } t.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle") } else { n = e.grep(n, function (e, n) { return e !== t.namespace }); t.$el.data("tooltipster-ns", n) } return t }, elementIcon: function () { return this.$el[0] !== this.$elProxy[0] ? this.$elProxy[0] : undefined }, elementTooltip: function () { return this.$tooltip ? this.$tooltip[0] : undefined }, option: function (e, t) { if (typeof t == "undefined") return this.options[e]; else { this.options[e] = t; return this } }, status: function () { return this.Status } }; e.fn[r] = function () { var t = arguments; if (this.length === 0) { if (typeof t[0] === "string") { var n = true; switch (t[0]) { case "setDefaults": e.extend(i, t[1]); break; default: n = false; break } if (n) return true; else return this } else { return this } } else { if (typeof t[0] === "string") { var r = "#*$~&"; this.each(function () { var n = e(this).data("tooltipster-ns"), i = n ? e(this).data(n[0]) : null; if (i) { if (typeof i[t[0]] === "function") { var s = i[t[0]](t[1], t[2]) } else { throw new Error('Unknown method .tooltipster("' + t[0] + '")') } if (s !== i) { r = s; return false } } else { throw new Error("You called Tooltipster's \"" + t[0] + '" method on an uninitialized element') } }); return r !== "#*$~&" ? r : this } else { var o = [], u = t[0] && typeof t[0].multiple !== "undefined", a = u && t[0].multiple || !u && i.multiple, f = t[0] && typeof t[0].debug !== "undefined", l = f && t[0].debug || !f && i.debug; this.each(function () { var n = false, r = e(this).data("tooltipster-ns"), i = null; if (!r) { n = true } else if (a) { n = true } else if (l) { console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.') } if (n) { i = new s(this, t[0]); if (!r) r = []; r.push(i.namespace); e(this).data("tooltipster-ns", r); e(this).data(i.namespace, i) } o.push(i) }); if (a) return o; else return this } } }; var u = !!("ontouchstart" in t); var a = false; e("body").one("mousemove", function () { a = true }) })(jQuery, window, document);

// Application Scripts:

// Сообщения об отправке формы
// Кнопка скролла страницы
// Модальное окно
// Маска для телефонного номера
// Слайдер
// Скроллер
// Тултипы
// Клик по чекбоксу "совпадает со страхователем"
// Если браузер не знает о svg-картинках
// Если браузер не знает о плейсхолдерах

jQuery(document).ready(function ($) {
    //Кэшируем
    var $window = $(window),
        $body = $('body');

    

    //
    // Сообщения об отправке формы
    //---------------------------------------------------------------------------------------
    // после аякс-отправки формы ($form), если все ок - $form.find('.g-notice--ok').fadeIn();
    // если вернуло ошибку - $form.find('.g-notice--bad').fadeIn();
    var showFormNotice = (function () {
        var $notice = $('.js-notice');
        $notice.append('<a class="g-notice__close"><i class="icon-cancel"></i></a>'); //иконка закрытия
        $notice.on('click', '.g-notice__close', function (e) {//закроем блок по клику на иконку
            e.preventDefault();
            $(this).parent('div').fadeOut();
        });
    }());

    //
    // Кнопка скролла страницы
    //---------------------------------------------------------------------------------------
    var initPageScroller = (function () {
        var $scroller = $('<div class="scroll-up-btn"><i class="icon-up-open-big"></i></div>');
        $body.append($scroller);
        $window.on('scroll', function () {
            if ($(this).scrollTop() > 300) {
                $scroller.show();
            } else {
                $scroller.hide();
            }
        });
        $scroller.on('click', function () {
            $('html, body').animate({ scrollTop: 0 }, 800);
            return false;
        });
    }());


    //
    // Модальное окно
    //---------------------------------------------------------------------------------------
    var showModal = (function (link) {
        var
        method = {},
        $overlay,
        $modal,
        $close;

        // добавим в документ
        $overlay = $('<div class="overlay" id="overlay"></div>'); //оверлей
        $close = $('<a class="modal__close" href="#"><i class="icon-cancel"></i></a>'); //иконка закрыть
        $body.append($overlay);

        $close.on('click', function (e) {
            e.preventDefault();
            method.close();
        });

        // центрируем окно
        method.center = function () {
            var top, left;

            top = Math.max($window.height() - $modal.outerHeight(), 0) / 2;
            left = Math.max($window.width() - $modal.outerWidth(), 0) / 2;

            $modal.css({
                top: top + $window.scrollTop(),
                left: left + $window.scrollLeft()
            });
        };


        // открываем
        method.open = function (link) {
            $modal = $(link);
            $modal.append($close);
            method.center();
            $window.bind('resize.modal', method.center);
            $overlay.fadeIn();
            $modal.fadeIn();
            

            $overlay.bind('click', function () {
                method.close();
            });
        };

        // закрываем
        method.close = function () {
            $modal.fadeOut('fast');
            $overlay.fadeOut('fast', function () {
                $overlay.unbind('click');
            });
            $window.unbind('resize.modal');
        };

        return method;
    }());

    // клик по кнопке с атрибутом data-modal - открываем модальное окно
    $('[data-modal]').on('click', function (e) {//передаем айди модального окна
        e.preventDefault();
        var link = $(this).data('modal');
        if (link) { showModal.open(link); }
    });

    //
    // Маска для телефонного номера
    //---------------------------------------------------------------------------------------
    $('.js-phone').mask("+7 (999) 99 999 99");


    //
    // Слайдер
    //---------------------------------------------------------------------------------------
    $('.js-slider').bxSlider();


    //
    // Скроллер
    //---------------------------------------------------------------------------------------
    function initScroller() {
        new Miniscroll(".js-scroller", {
            axis: "y",
            size: 8,
            sizethumb: 120,
            //onScroll: function (percent, offset) { },
            thumbColor: "#c0c0c2",
            trackerColor: "#fff"
        });
    }
    if ($('.js-scroller').length) { initScroller(); }


    //
    // Тултипы
    //---------------------------------------------------------------------------------------
    function initTooltips() {
        var winW = $window.width(),
            tipPosition = 'top';
        if (winW > 768) {
            tipPosition = 'left';
        }

        $('.js-form-tip').tooltipster({
            content: $('.b-data__tooltip'),
            contentAsHTML: true,
            minWidth: 300,
            maxWidth: 740,
            trigger: 'click',
            hideOnClick: true,
            position: tipPosition,
            functionBefore: function (origin, continueTooltip) {
                $('#overlay').fadeIn('fast', continueTooltip());
            },
            functionAfter: function (origin) {
                $('#overlay').hide();
            }
        });
    }

    initTooltips();


    //
    // Клик по чекбоксу "совпадает со страхователем"
    //---------------------------------------------------------------------------------------
    function orderCheckbox() {
        var $block = $('.js-checkbox'),
            $label = $block.children('label'),
            $input = $block.find('input[type="checkbox"]'),
            $target = $block.parent('div').find('.g-col input');

        if ($input.is(':checked')) {
            checkState();
        }

        $input.on('change', function () {
            if ($(this).is(':checked')) {
                checkState();
            } else {
                uncheckState();
            }
        });

        function checkState() {
            $label.addClass('active');
            $target.prop('disabled', true);
        }

        function uncheckState() {
            $label.removeClass('active');
            $target.prop('disabled', false);
        }
    }
    if ($('.js-checkbox').length) { orderCheckbox();}

    //
    // Если браузер не знает о svg-картинках
    //---------------------------------------------------------------------------------------
    if (!Modernizr.svg) {
        $('img[src*="svg"]').attr('src', function () {
            return $(this).attr('src').replace('.svg', '.png');
        });
    }

    //
    // Если браузер не знает о плейсхолдерах
    //---------------------------------------------------------------------------------------
    if (!Modernizr.input.placeholder) {

        $('[placeholder]').focus(function () {
            var input = $(this);
            if (input.val() == input.attr('placeholder')) {
                input.val('');
                input.removeClass('placeholder');
            }
        }).blur(function () {
            var input = $(this);
            if (input.val() == '' || input.val() == input.attr('placeholder')) {
                input.addClass('placeholder');
                input.val(input.attr('placeholder'));
            }
        }).blur();
        $('[placeholder]').parents('form').submit(function () {
            $(this).find('[placeholder]').each(function () {
                var input = $(this);
                if (input.val() == input.attr('placeholder')) {
                    input.val('');
                }
            })
        });
    };
    
});
